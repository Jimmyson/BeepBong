@page
@model BeepBong.Web.Pages.Programmes.DetailsModel

@{
    ViewData["Title"] = "Details";
}

<h1>Details</h1>

<div>
    <h4>Programme</h4>
    <hr />
    <dl class="row">
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Programme.Name)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Programme.Name)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Programme.Year)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Programme.Year)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Programme.Channel)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Programme.Channel)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Programme.AudioComposer)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Programme.AudioComposer)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Programme.IsLibraryMusic)
        </dt>
        <dd class="col-sm-10">
			@if (Model.Programme.IsLibraryMusic) {
				<i class="fas">&#xf00c</i>
			}
        </dd>
    </dl>
</div>
<div>
	<h4>Tracks</h4>
    <hr />
	<p>
		<a asp-page="../Tracks/Create" asp-route-ProgrammeId="@Model.Programme.ProgrammeId">Create New</a>
	</p>
	<table class="table">
		<thead>
			<tr>
				<th>
					@Html.DisplayNameFor(model => model.Programme.Tracks.First().Name)
				</th>
				<th>
					@Html.DisplayNameFor(model => model.Programme.Tracks.First().Subtitle)
				</th>
				@if(Model.Programme.IsLibraryMusic == false) {
				<th>
					Samples
				</th>
				}
				<!-- <th>
					@* @Html.DisplayNameFor(model => model.Programme.Tracks.First().Programme) *@
				</th> -->
				<th></th>
			</tr>
		</thead>
		<tbody>
		@foreach (var item in Model.Programme.Tracks) {
			<tr>
				<td>
					@Html.DisplayFor(modelItem => item.Name)
				</td>
				<td>
					@Html.DisplayFor(modelItem => item.Subtitle)
				</td>
				@if(Model.Programme.IsLibraryMusic == false) {
				<td>
					@Html.DisplayFor(modelItem => item.SampleCount)
				</td>
				}
				<!-- <td>
					@* @Html.DisplayFor(modelItem => item.Programme.ProgrammeId) *@
				</td> -->
				<td>
					<a asp-page="../Tracks/Edit" asp-route-id="@item.TrackId">Edit</a> |
					<a asp-page="../Tracks/Details" asp-route-id="@item.TrackId">Details</a> |
					<a asp-page="../Tracks/Delete" asp-route-id="@item.TrackId">Delete</a>
				</td>
			</tr>
		}
		</tbody>
	</table>
</div>
@if(Model.Programme.IsLibraryMusic == true) {
<!-- <div>
	<h4>Library References</h4>
    <hr />
	<p>
		<!-- <a asp-page="../Tracks/Create" asp-route-ProgrammeId="@Model.Programme.ProgrammeId">Create New</a> -->
	</p>
</div> -->
}
<div>
	<a asp-page="./Edit" asp-route-id="@Model.Programme.ProgrammeId">Edit</a> |
    <a asp-page="./Index">Back to List</a>
</div>
